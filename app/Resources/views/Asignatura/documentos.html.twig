{% extends 'Asignatura/info_asignatura.html.twig' %}

{% block breadcrumbs %}

    <div>
        {# Definiendo los nodos del breadcrums #}
        {% set nodos = [
                {
                    'url': 'contenido_raiz',
                    'descripcion': '#', 
                }, 
                {
                    'url': 'contenido_asignatura',
                    'descripcion': asignatura.titulo, 
                    'parametros': {
                    	'asignatura': asignatura.titulo
                	}
                }, 
                {
                    'url': 'contenido_documentos_asignatura',
                    'descripcion': 'Documentos'
                }, 

            ] 
        %}            
        {% include('Contenido/breadcrums.html.twig') %}
    </div>

{% endblock %}

{% block cuerpo_asignatura %}
	
	{% if mensaje %}
		<div>{{mensaje}}</div>
	{% endif %}

{% for error in errores %}
    <li>{{ error.message }}</li>
{% endfor %}	

	<div>Documentaci√≥n aportada:</div>
  		<table>
        	<tr>
        		<th>Tipo</th>
        		<th>Nombre</th>
        		<th>Autor</th>
        	</tr>

			{% for documento in asignatura.getDocumentos() %}
		    	<tr>
		    		<td><img src="{{ asset('/images/iconos/' ~ documento.tipo) }}" width="30" height="30"></td>
		    		<td><a href="{{ asset('/documentos/' ~ asignatura.titulo ~ '/' ~ documento.nombreFichero) }}" target="_blank">
		    				{{documento.descripcion}}</a>
		    		</td>
		    		<td>{{documento.usuario.username}}</td>
		    	</tr>
	    	{% endfor %}
	    </table>

		{% if is_granted('ROLE_ALUMNO') %}
			<div>
				{{ form_start(form) }}
				{{ form_widget(form) }}
				{{ form_end(form) }}
			</div>	   

		{% endif %}
{% endblock %}


